!function(){let e=document.getElementsByClassName("d-block"),t=document.getElementsByClassName("collapse show");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){this.classList.toggle("active");let e=this.nextElementSibling;l(e),setTimeout(n,0,e)}));function n(e){"0px"!==e.style.height?e.style.height="0px":(e.style.display="block",e.style.height=e.scrollHeight+"px")}function l(e){"0px"!==e.style.height&&(e.style.height=e.scrollHeight+"px")}window.addEventListener("resize",(function(){for(let e=0;e<t.length;e++)"0px"!==t[e].style.height&&(t[e].style.height="auto")}))}();let dropDowns=document.getElementsByClassName("nav-link"),navbarSide=document.getElementsByClassName("navbar-nav")[0],pageTopBtn=document.getElementById("sidebarToggleTop"),pageTop=document.getElementById("page-top");pageTopBtn.onclick=function(){pageTop.classList.toggle("sidebar-toggled"),navbarSide.classList.toggle("toggled")};for(let e=0;e<dropDowns.length;e++)dropDowns[e].addEventListener("click",showToggle);function showToggle(e){let t=e.currentTarget;t.classList.toggle("show"),t.nextElementSibling&&t.nextElementSibling.classList.toggle("show"),t["aria-expanded"]=!t["aria-expanded"]}function Ticket(e,t,n,l,s){this.title=e,this.department=t,this.priority=n,this.deadline=l,this.description=s}function postTicket(e){let t=new XMLHttpRequest;return t.open("POST","http://localhost:3002/tickets",!0),t.setRequestHeader("Content-Type","application/json"),t.responseType="document",t.onload=function(){if(200==this.status){let e=this.response;document.getElementsByClassName("collapsable-section")[0].innerHTML=e.getElementsByClassName("collapsable-section")[0].innerHTML}},t.send(JSON.stringify(e)),this.response}!function(){let e=document.getElementsByClassName("new-ticket")[0],t=document.getElementsByClassName("bg-modal")[0],n=document.getElementsByClassName("modal-contents")[0],l=document.getElementsByClassName("close-bg-modal")[0],s=document.getElementsByTagName("main")[0],o=document.getElementsByClassName("ticket-form")[0],i=document.getElementsByClassName("submit")[0],a=document.getElementById("deadline");function c(){let e=n.getBoundingClientRect().width,t=n.getBoundingClientRect().height;scrollTo({top:n.offsetTop-t/5,left:n.offsetLeft-e/5,behavior:"smooth"})}i.onclick=function(e){let n=o.querySelectorAll("input, select, textarea");console.log(o);let l=0;for(let e of n)if(""===e.value)e.style.borderColor="red";else if(l++,e.style.borderColor="#CFD8DC",l===n.length){let e=[];for(let t of n){let n=t.value;"description"!==t.id&&"title"!==t.id||(n=n.slice(0,1).toUpperCase()+n.slice(1,n.length)),e.push(n)}postTicket(new Ticket(...e));t.style.display="none",s.className=""}},e.onclick=function(){t.style.display="flex",s.className="blur",c()},window.onresize=function(){c()},l.onclick=function(){t.style.display="none",s.className=""},a.onfocus=function(){this.type="date"},a.onblur=function(){this.type="text"},localStorage.setItem("Modified",document.lastModified)}();