!function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=11)}({0:function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction fetchData(data, method, route, success) {\r\n    fetch(route, {\r\n        method: method,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(data),\r\n    })\r\n        .then((res) => {\r\n        success(res);\r\n    })\r\n        .catch((error) => {\r\n        console.log(error);\r\n    });\r\n}\r\nexports.default = fetchData;\r\n\n\n//# sourceURL=webpack:///./src/client/js/fetchData.ts?")},11:function(module,exports,__webpack_require__){"use strict";eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst userClass_ts_1 = __importDefault(__webpack_require__(12));\r\nconst fetchData_ts_1 = __importDefault(__webpack_require__(0));\r\n(function register() {\r\n    let form = document.querySelector('.user-register');\r\n    let inputs = form.querySelectorAll('input, select');\r\n    let registerBtn = form.querySelector('.btn-user');\r\n    registerBtn.onclick = function () {\r\n        sessionStorage.removeItem('rggd');\r\n        let user = [];\r\n        //for...in iterated through\r\n        //non-enumerable props in this case\r\n        for (let input of inputs) {\r\n            let inputVal = input.value;\r\n            user.push(inputVal);\r\n        }\r\n        fetchData_ts_1.default(new userClass_ts_1.default(...user), 'POST', '/users/register', postUser);\r\n    };\r\n})();\r\nfunction postUser(res) {\r\n    if (res.status === 200) {\r\n        //for replacing 'Welcome!' in the signin form with the below text, sessionStorage.registered\r\n        sessionStorage\r\n            .rggd = btoa('You have been registered successfully! Now you can sign in here'); //encode with base64\r\n        window.location.replace('/users/signin');\r\n    }\r\n    if (res.status === 422) {\r\n        Promise.resolve(res.json()).then((data) => {\r\n            let invalidFields = data;\r\n            console.log(invalidFields);\r\n            let form = document.querySelector('.user-register');\r\n            let inputs = form.querySelectorAll('input, select');\r\n            for (let input of inputs) {\r\n                if (invalidFields.includes(input.id)) {\r\n                    let tooltipTxt = input.parentNode.getAttribute('data');\r\n                    input.parentNode.setAttribute('data-tooltip', tooltipTxt);\r\n                    input.style.borderColor = 'red';\r\n                }\r\n                else {\r\n                    input.style.borderColor = '#CFD8DC';\r\n                    input.parentNode.removeAttribute('data-tooltip');\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/client/js/register.ts?")},12:function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass User {\r\n    constructor(firstName, lastName, email, department, password, repPassword, role) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.email = email;\r\n        this.department = department;\r\n        this.password = password;\r\n        this.repPassword = repPassword;\r\n        this.role = role || 'member';\r\n    }\r\n}\r\nexports.default = User;\r\n\n\n//# sourceURL=webpack:///./src/client/js/userClass.ts?")}});